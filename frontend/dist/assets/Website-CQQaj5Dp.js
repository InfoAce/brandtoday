import{z as S,i as w,r as z,u as C,A as D,o as U,e as u,f as h,g as a,k as m,B,v as x,h as b,l as p,t as _,n as T,q as I,j as o,c as O,w as q,F as E,m as P,y as M}from"./index-BX7DgPRM.js";import"./vue-dropzone.vue_vue_type_style_index_0_lang-B11SuGN4.js";import{v as N}from"./vue-dropzone-Do3zfAdq.js";import{c as R,a as k}from"./index.esm-BakSTS1U.js";import"./moment-C5S46NFB.js";const j={class:"modal theme-modal fade bd-example-modal-lg",id:"addbanner",tabindex:"-1",role:"dialog"},L={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},W={class:"modal-content"},H={class:"modal-header"},J=a("h5",{class:"modal-title",id:"exampleModalLabel"},"Add Image Banner",-1),G=a("span",{"aria-hidden":"true"},"Ã—",-1),K=[G],Q={class:"modal-body"},X={class:"row"},Y={class:"form-group"},Z=a("label",null,"Title",-1),aa={class:"form-group col-md-12 col-sm-12 col-xs-12"},ea=a("label",null,"Description",-1),oa={class:"col-12"},sa=a("label",null,"Image",-1),la={class:"modal-footer"},ia=["disabled"],ta={key:0,class:"fa fa-spinner fa-spin"},da=S({__name:"AddBanner",props:{show:{type:Boolean,default:!1}},emits:["fetch-data","update-modal"],setup(A,{emit:v}){const d=w("$api"),t=v,f=w("$toast"),e=z({errors:{},form:{description:"",path:"",title:""},dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:300,maxFilesize:3,maxFiles:1,acceptedFiles:"image/*",dictRemoveFile:"Remove file",headers:{}},loader:!1,isDisabled:!1}),y=A,n=C(),r=R().shape({description:k().required("*Description is required"),path:k().required("*Image Path is required"),title:k().required("*Title is required")}),c=()=>{e.loader=!0,d.post("/dashboard/website/banner",e.form).then(()=>{f.success("Banner added successfully"),F()}).catch(()=>{e.loader=!1}).finally(()=>{e.loader=!1})},g=l=>{let{xhr:{response:s}}=l,i=JSON.parse(s);e.form.path=`images/${i.file.filename}`},V=l=>{r.validateAt(l,e.form).then((s,i)=>{delete e.errors[l]}).catch(s=>{e.errors[s.path]=s.message}).finally(()=>{e.isDisabled=!p.isEmpty(e.errors)})},F=()=>{e.form={description:"",path:"",title:""},t("update-modal",!1),t("fetch-data")};return D(()=>y.show,l=>{l===!0&&$("#addbanner").modal("show"),l===!1&&$("#addbanner").modal("hide")}),D(()=>e.form,l=>{p.each(l,(s,i)=>{V(i)})},{deep:!0,immediate:!0}),U(()=>{let{authToken:l,env:{VITE_API_BASE_URL:s}}=n.getters;e.dropzoneOptions.url=`${s}/dashboard/website/upload`,e.dropzoneOptions.headers={Authorization:`${l.token_type} ${l.token}`}}),(l,s)=>(u(),h("div",j,[a("div",L,[a("div",W,[a("div",H,[J,a("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=i=>t("update-modal",!1)),"aria-label":"Close"},K)]),a("div",Q,[a("div",X,[a("div",Y,[Z,m(a("input",{type:"text",name:"title",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=i=>e.form.title=i),placeholder:"Title"},null,512),[[B,e.form.title]]),m(a("p",{class:"text-danger col col-12 mb-0"},_(e.errors.title),513),[[x,b(p.has)(e.errors,"title")]])]),a("div",aa,[ea,m(a("input",{type:"text",name:"description",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=i=>e.form.description=i),placeholder:"Description"},null,512),[[B,e.form.description]]),m(a("p",{class:"text-danger col col-12 mb-0"},_(e.errors.description),513),[[x,b(p.has)(e.errors,"description")]])]),a("div",oa,[sa,T(b(N),{ref:"dropzoneBanner",onVdropzoneSuccess:g,id:"dropzoneBanner",options:e.dropzoneOptions},null,8,["options"]),m(a("p",{class:"text-danger col col-12 mb-0"},_(e.errors.path),513),[[x,b(p.has)(e.errors,"path")]])])])]),a("div",la,[a("button",{onClick:c,class:"btn btn-primary",type:"button",disabled:e.isDisabled||e.loader},[e.loader?(u(),h("i",ta)):I("",!0),o(" Upload ")],8,ia)])])])]))}}),na={class:"container-fluid"},ca={class:"page-header"},ra={class:"row"},ma=a("div",{class:"col-lg-6"},[a("div",{class:"page-header-left"},[a("h3",null,[o(" Website "),a("small",null,"Landing page content. Update privacy policy, terms and conditions and banner slider.")])])],-1),pa={class:"col-lg-6"},ba={class:"breadcrumb pull-right"},ua={class:"breadcrumb-item"},ha=a("i",{"data-feather":"home"},null,-1),_a=a("li",{class:"breadcrumb-item active"},"Website",-1),va={class:"container-fluid"},fa={class:"row"},ya={class:"col-sm-12"},ga={class:"card"},xa={class:"card-body"},ka=a("ul",{class:"nav nav-tabs tab-coupon",id:"myTab",role:"tablist"},[a("li",{class:"nav-item"},[a("a",{class:"nav-link active show",id:"account-tab","data-bs-toggle":"tab",href:"#home",role:"tab","aria-controls":"account","aria-selected":"true","data-original-title":"",title:""},"Home")]),a("li",{class:"nav-item"},[a("a",{class:"nav-link",id:"permission-tabs","data-bs-toggle":"tab",href:"#home",role:"tab","aria-controls":"permission","aria-selected":"false","data-original-title":"",title:""})])],-1),$a={class:"tab-content",id:"myTabContent"},wa={class:"tab-pane fade active show",id:"account",role:"tabpanel","aria-labelledby":"home-tab"},Aa={class:"container-fluid"},Da={class:"col-12 d-flex justify-content-end"},Ba={class:"row products-admin ratio_asos"},Sa={class:"card"},za={class:"card-body product-box"},Ca={class:"img-wrapper"},Ua={class:"front"},Ta={href:"javascript:void(0)"},Va=["src"],Fa=M('<div class="product-hover"><ul><li><button class="btn" type="button" data-original-title="" title=""><i class="ti-pencil-alt"></i></button></li><li><button class="btn"><i class="ti-trash"></i></button></li></ul></div>',1),Ia={class:"product-detail"},Oa=a("div",{class:"tab-pane fade",id:"permission",role:"tabpanel","aria-labelledby":"permission-tabs"},[a("form",{class:"needs-validation user-add",novalidate:""},[a("div",{class:"permission-block"},[a("div",{class:"attribute-blocks"},[a("h5",{class:"f-w-600 mb-3"},"Product Related permition "),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Add Product")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani1"},[a("input",{class:"radio_animated",id:"edo-ani1",type:"radio",name:"rdo-ani"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani2"},[a("input",{class:"radio_animated",id:"edo-ani2",type:"radio",name:"rdo-ani",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Update Product")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani3"},[a("input",{class:"radio_animated",id:"edo-ani3",type:"radio",name:"rdo-ani1"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani4"},[a("input",{class:"radio_animated",id:"edo-ani4",type:"radio",name:"rdo-ani1",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Delete Product")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani5"},[a("input",{class:"radio_animated",id:"edo-ani5",type:"radio",name:"rdo-ani2"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani6"},[a("input",{class:"radio_animated",id:"edo-ani6",type:"radio",name:"rdo-ani2",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",{class:"mb-0 sm-label-radio"},"Apply discount")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated pb-0"},[a("label",{class:"d-block mb-0",for:"edo-ani7"},[a("input",{class:"radio_animated",id:"edo-ani7",type:"radio",name:"rdo-ani3"}),o(" Allow ")]),a("label",{class:"d-block mb-0",for:"edo-ani8"},[a("input",{class:"radio_animated",id:"edo-ani8",type:"radio",name:"rdo-ani3",checked:""}),o(" Deny ")])])])])]),a("div",{class:"attribute-blocks"},[a("h5",{class:"f-w-600 mb-3"},"Category Related permition "),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Add Category")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani9"},[a("input",{class:"radio_animated",id:"edo-ani9",type:"radio",name:"rdo-ani4"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani10"},[a("input",{class:"radio_animated",id:"edo-ani10",type:"radio",name:"rdo-ani4",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Update Category")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani11"},[a("input",{class:"radio_animated",id:"edo-ani11",type:"radio",name:"rdo-ani5"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani12"},[a("input",{class:"radio_animated",id:"edo-ani12",type:"radio",name:"rdo-ani5",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",null,"Delete Category")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline mb-0 custom-radio-ml d-flex radio-animated"},[a("label",{class:"d-block",for:"edo-ani13"},[a("input",{class:"radio_animated",id:"edo-ani13",type:"radio",name:"rdo-ani6"}),o(" Allow ")]),a("label",{class:"d-block",for:"edo-ani14"},[a("input",{class:"radio_animated",id:"edo-ani14",type:"radio",name:"rdo-ani6",checked:""}),o(" Deny ")])])])]),a("div",{class:"row"},[a("div",{class:"col-xl-3 col-sm-4"},[a("label",{class:"mb-0 sm-label-radio"},"Apply discount")]),a("div",{class:"col-xl-9 col-sm-8"},[a("div",{class:"form-group m-checkbox-inline custom-radio-ml d-flex radio-animated pb-0"},[a("label",{class:"d-block mb-0",for:"edo-ani15"},[a("input",{class:"radio_animated",id:"edo-ani15",type:"radio",name:"rdo-ani7"}),o(" Allow ")]),a("label",{class:"d-block mb-0",for:"edo-ani16"},[a("input",{class:"radio_animated",id:"edo-ani16",type:"radio",name:"rdo-ani7",checked:""}),o(" Deny ")])])])])])])])],-1),Ra=S({__name:"Website",setup(A){const v=w("$api"),d=z({company:Object(),modal:{add:!1,edit:!1}}),t=C(),f=O(()=>t.getters.env.VITE_API_BASE_URL.replace("api/v1","")),e=()=>{t.commit("loader",!0),v.get("/dashboard/website").then(({data:{company:n}})=>{d.company=n}).catch(()=>{t.commit("loader",!1)}).finally(()=>{t.commit("loader",!1)})},y=n=>{d.modal.add=n};return U(()=>e()),(n,r)=>(u(),h("div",null,[a("div",na,[a("div",ca,[a("div",ra,[ma,a("div",pa,[a("ol",ba,[a("li",ua,[a("a",{href:"#",onClick:r[0]||(r[0]=q(c=>n.$router.push({name:"Overview"}),["prevent"]))},[ha,o(" Overview ")])]),_a])])])])]),a("div",va,[a("div",fa,[a("div",ya,[a("div",ga,[a("div",xa,[ka,a("div",$a,[a("div",wa,[a("div",Aa,[a("div",Da,[a("button",{class:"btn btn-primary",onClick:r[1]||(r[1]=c=>d.modal.add=!0)},"Add Image")]),a("div",Ba,[(u(!0),h(E,null,P(d.company.banners,(c,g)=>(u(),h("div",{class:"col-xl-4 col-sm-6",key:g},[a("div",Sa,[a("div",za,[a("div",Ca,[a("div",Ua,[a("a",Ta,[a("img",{src:`${f.value}/${c.path}`,class:"img-fluid blur-up lazyload bg-img",alt:""},null,8,Va)]),Fa])]),a("div",Ia,[a("h4",null,_(c.title),1),a("h6",null,_(c.description),1)])])])]))),128))])]),T(b(da),{show:d.modal.add,onUpdateModal:y,onFetchData:e},null,8,["show"])]),Oa])])])])])])]))}});export{Ra as default};
