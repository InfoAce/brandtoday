import{u as D,a as N,i as P,b as U,r as j,w as L,d as a,o as T,c as z,e,f as s,g as M,h as c,v as u,j as i,l as m,k as r,t as C,m as g}from"./index-0242c6eb.js";import{c as O,a as h,b as W}from"./index.esm-eb5145b9.js";const H={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},J=r("h2",null,"Welcome on board.",-1),K=r("p",{class:"text-medium-emphasis"},"Fill in the form below to register",-1),Q={class:"d-grid"},X=r("h3",null,"Already have an account ?",-1),Y=r("p",null,"If you have an account, you can login.",-1),se={__name:"Register",setup(Z){const w=D(),x=N(),S=P("$api"),b=U(),o=j({errors:{},form:{first_name:"",last_name:"",email:"",password:"",confirm_password:""},isDisabled:!0}),k=O().shape({first_name:h().required("*First name is required"),last_name:h().required("*Last name is required"),email:h().email("*Enter a valid email address").required("*Email address is required"),password:h().required("*Password is required"),confirm_password:h().required("*Password confirmation is required").oneOf([W("password"),""],"*Password must match")}),q=n=>{k.validateAt(n,o.form).then((t,d)=>{delete o.errors[n]}).catch(t=>{o.errors[t.path]=t.message})},F=()=>{w.commit("loader",!0),S.post("/auth/signup",o.form).then(()=>{b.success("Alright! Registration successful. Please check your email to verify your account."),I()}).catch(({response:{data:n}})=>{!m.isEmpty(n)&&n.statusCode==400&&n.message.forEach(t=>{b.info(t)})}).finally(()=>{w.commit("loader",!1)})},I=()=>{o.form={first_name:"",last_name:"",email:"",password:"",confirm_password:""}};return L(o.form,n=>{m.each(n,(t,d)=>{q(d)}),o.isDisabled=m.isEmpty(o.errors)}),(n,t)=>{const d=a("CIcon"),p=a("CInputGroupText"),_=a("CFormInput"),f=a("CInputGroup"),E=a("CSpinner"),y=a("CButton"),B=a("CForm"),v=a("CCardBody"),V=a("CCard"),G=a("CCardGroup"),R=a("CCol"),$=a("CRow"),A=a("CContainer");return T(),z("div",H,[e(A,null,{default:s(()=>[e($,{class:"justify-content-center"},{default:s(()=>[e(R,{md:8},{default:s(()=>[e(G,null,{default:s(()=>[e(V,{class:"p-4"},{default:s(()=>[e(v,null,{default:s(()=>[e(B,{onSubmit:M(F,["prevent"])},{default:s(()=>[J,K,e(f,{class:"mb-3"},{default:s(()=>[e(p,null,{default:s(()=>[e(d,{icon:"cil-user"})]),_:1}),e(_,{placeholder:"First Name",autocomplete:"firstname",modelValue:o.form.first_name,"onUpdate:modelValue":t[0]||(t[0]=l=>o.form.first_name=l)},null,8,["modelValue"]),c(r("p",{class:"text-danger col col-12 mb-0"},C(o.errors.first_name),513),[[u,i(m.has)(o.errors,"first_name")]])]),_:1}),e(f,{class:"mb-3"},{default:s(()=>[e(p,null,{default:s(()=>[e(d,{icon:"cil-user"})]),_:1}),e(_,{placeholder:"Last Name",autocomplete:"lastname",modelValue:o.form.last_name,"onUpdate:modelValue":t[1]||(t[1]=l=>o.form.last_name=l)},null,8,["modelValue"]),c(r("p",{class:"text-danger col col-12 mb-0"},C(o.errors.last_name),513),[[u,i(m.has)(o.errors,"last_name")]])]),_:1}),e(f,{class:"mb-3"},{default:s(()=>[e(p,null,{default:s(()=>[g("@")]),_:1}),e(_,{placeholder:"Email",autocomplete:"email",modelValue:o.form.email,"onUpdate:modelValue":t[2]||(t[2]=l=>o.form.email=l)},null,8,["modelValue"]),c(r("p",{class:"text-danger col col-12 mb-0"},C(o.errors.email),513),[[u,i(m.has)(o.errors,"email")]])]),_:1}),e(f,{class:"mb-3"},{default:s(()=>[e(p,null,{default:s(()=>[e(d,{icon:"cil-lock-locked"})]),_:1}),e(_,{type:"password",placeholder:"Password",autocomplete:"new-password",modelValue:o.form.password,"onUpdate:modelValue":t[3]||(t[3]=l=>o.form.password=l)},null,8,["modelValue"]),c(r("p",{class:"text-danger col col-12 mb-0"},C(o.errors.password),513),[[u,i(m.has)(o.errors,"password")]])]),_:1}),e(f,{class:"mb-4"},{default:s(()=>[e(p,null,{default:s(()=>[e(d,{icon:"cil-lock-locked"})]),_:1}),e(_,{type:"password",placeholder:"Repeat password",autocomplete:"new-password",modelValue:o.form.confirm_password,"onUpdate:modelValue":t[4]||(t[4]=l=>o.form.confirm_password=l)},null,8,["modelValue"]),c(r("p",{class:"text-danger col col-12 mb-0"},C(o.errors.confirm_password),513),[[u,i(m.has)(o.errors,"confirm_password")]])]),_:1}),r("div",Q,[e(y,{color:"primary",type:"submit",disabled:o.isDisabled||i(w).getters.loader},{default:s(()=>[c(e(E,{component:"span",size:"sm","aria-hidden":"true"},null,512),[[u,i(w).getters.loader]]),g(" Create Account ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1}),e(V,{class:"text-white bg-primary py-5",style:{width:"44%"}},{default:s(()=>[e(v,{class:"d-flex align-items-center justify-content-center"},{default:s(()=>[r("div",null,[X,Y,e(y,{color:"light",variant:"outline",class:"mt-3",onClick:t[5]||(t[5]=l=>i(x).push({name:"Login"}))},{default:s(()=>[g("Login")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{se as default};
