import{_ as C,l as a,e as d,f as n,g as t,w as m,F as f,m as b,q as y,k as _,v as p,t as v,y as k,Q as P}from"./index-BX7DgPRM.js";import{c as E}from"./index-CVAB5CoL.js";const S="/assets/home/images/icon/2.png",N="/assets/home/images/icon/3.png",L="/assets/home/images/icon/4.png",D="/assets/home/images/icon/6.png",H={beforeRouteEnter(e,o,c){c(u=>{u.fetchData(),u.fetchSubCategories(),c()})},beforeRouteUpdate(e,o,c){c(u=>{u.fetchProducts(),u.fetchSubCategories(),c()})},created(){this.$isEmpty=a.isEmpty,this.$times=a.times,this.$convertToHex=e=>E(e.toLowerCase().split(" ").join(""))},data(){return{products:Array(),sub_categories:Array(),sub_category:"",sub_child_category:""}},methods:{fetchData(){this.products=a.cloneDeep({}),this.fetchProducts()},fetchProducts(e={page:1,perPage:10,sub_category:"",overwrite:!1}){let{$route:{params:o}}=this,c="/products",{page:u,perPage:l,sub_category:r,sub_child_category:s,overwrite:h}=e;this.$store.commit("loader",!0),!a.isEmpty(o)&&a.has(o,"category")&&!a.isEmpty(o.category)&&(c=`${c}?category=${o.category}`),a.isEmpty(r)||(c+=`&sub_category=${r}`),a.isEmpty(s)||(c+=`&sub_child_category=${s}`),c+=`&page=${u}&perPage=${l}`,this.$api.get(c).then(({data:{products:i}})=>{a.isEmpty(this.products)||(h&&(this.products=a.cloneDeep(i)),h||(this.products.data=a.cloneDeep(this.products.data.concat(i.data))),this.products.currentPage=i.currentPage),a.isEmpty(this.products)&&(this.products=a.cloneDeep(i))}).catch(({response:i})=>{this.$store.commit("loader",!1),!a.isEmpty(i.data)&&i.data.statusCode==400&&i.data.message.forEach(g=>{toast.info(g)})}).finally(()=>{this.$store.commit("loader",!1)})},fetchSubCategories(){const{$route:{params:e}}=this;this.$api.put(`/categories/view/${e.category}`).then(({data:{sub_categories:o}})=>{this.sub_categories=a.cloneDeep(o)}).catch(({response:o})=>{!a.isEmpty(o.data)&&o.data.statusCode==400&&o.data.message.forEach(c=>{toast.info(c)})}).finally(()=>{})},toBase64(e){return window.btoa(e)},loadMore(e){let{products:{currentPage:o,perPage:c,totalPages:u},sub_category:l}=this,r=o<u?o+1:null;a.isNull(r)||this.fetchProducts({page:r,perPage:c,sub_category:l}),a.isNull(r)&&$(e.target).text("No more products.")},selectSubCategory(e,o){this.sub_category=btoa(e.toLowerCase()),a.isEmpty(o.children)||$(`#${o.categoryCode.toLowerCase()}`).collapse("show")},selectSubChildCategory(e){this.sub_child_category=btoa(e.toLowerCase())},showCollapsed(e,o){e.preventDefault(),$(`#${o.categoryCode.toLowerCase()}`).collapse("show")}},watch:{"$route.params":{handler(){this.fetchSubCategories(),this.fetchData()},deep:!0},sub_category(e){a.isEmpty(this.sub_child_category)||(this.sub_child_category=""),this.fetchProducts({page:1,perPage:10,sub_category:e,overwrite:!0})},sub_child_category(e){const{sub_category:o}=this;this.fetchProducts({page:1,perPage:10,sub_category:o,sub_child_category:e,overwrite:!0})}}},A={class:"breadcrumb-section"},B={class:"container"},M={class:"row"},T=t("div",{class:"col-sm-6"},[t("div",{class:"page-title"},[t("h2",null,"Products")])],-1),V={class:"col-sm-6"},j={"aria-label":"breadcrumb",class:"theme-breadcrumb"},z={class:"breadcrumb"},F={class:"breadcrumb-item"},I=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Products",-1),Q={class:"section-b-space ratio_asos"},R={class:"collection-wrapper"},q={class:"container"},x={class:"row"},K={class:"col-sm-3 collection-filter"},U={class:"collection-filter-block"},W={class:"collection-collapse-block open"},G=t("h3",{class:"collapse-block-title"},"Sub Categories",-1),J={class:"collection-collapse-block-content",id:"sub_categories"},O={class:"collection-brand-filter"},X={class:"form-check collection-filter-checkbox align-items-center"},Y=t("label",{class:"form-check-label mb-0",for:"all"},"All",-1),Z={class:"form-check collection-filter-checkbox align-items-center justify-content-between"},tt=["value","onChange","id"],et=["for"],st=["onClick"],ot=t("i",{class:"fa fa-chevron-down"},null,-1),it=[ot],at=["id","aria-labelledby"],ct={class:"list-group"},lt={class:"form-check collection-filter-checkbox align-items-center mt-0"},rt=["value","id"],dt=["for"],nt={class:"collection-content col"},ut={class:"page-main-content"},ht={class:"collection-product-wrapper"},_t={class:"product-top-filter"},pt={class:"row"},gt={class:"col-12"},mt={class:"product-filter-content"},vt={class:"search-count"},ft=k('<div class="collection-view"><ul><li><i class="fa fa-th grid-layout-view"></i></li><li><i class="fa fa-list-ul list-layout-view"></i></li></ul></div><div class="collection-grid-view"><ul><li><img src="'+S+'" alt="" class="product-2-layout-view"></li><li><img src="'+N+'" alt="" class="product-3-layout-view"></li><li><img src="'+L+'" alt="" class="product-4-layout-view"></li><li><img src="'+D+'" alt="" class="product-6-layout-view"></li></ul></div><div class="product-page-per-view"><select><option value="12">12 Products Per Page</option><option value="24">24 Products Per Page</option><option value="48">48 Products Per Page</option><option value="60">60 Products Per Page</option></select></div><div class="product-page-filter"><select><option value="High to low">Sorting items</option><option value="Low to High">50 Products</option><option value="Low to High">100 Products</option></select></div>',4),bt={class:"product-wrapper-grid"},yt={class:"row margin-res"},wt={class:"row margin-res"},Ct={class:"product-box"},kt={class:"img-wrapper"},Pt={key:0},$t={class:"front"},Et=["onClick"],St=["src"],Nt={key:0,class:"back"},Lt=["onClick"],Dt=["src"],Ht={class:"cart-info cart-wrap"},At=t("button",{"data-bs-toggle":"modal","data-bs-target":"#addtocart",title:"Add to cart"},[t("i",{class:"ti-shopping-cart"})],-1),Bt=t("a",{href:"javascript:void(0)",title:"Add to Wishlist"},[t("i",{class:"ti-heart","aria-hidden":"true"})],-1),Mt=["data-bs-target"],Tt=t("i",{class:"ti-search","aria-hidden":"true"},null,-1),Vt=[Tt],jt={class:"product-detail"},zt=["onClick"],Ft=["innerHTML"],It={class:"color-variant p-0"},Qt={class:"load-more-sec"};function Rt(e,o,c,u,l,r){return d(),n("div",null,[t("div",A,[t("div",B,[t("div",M,[T,t("div",V,[t("nav",j,[t("ol",z,[t("li",F,[t("a",{href:"#",onClick:o[0]||(o[0]=m(s=>e.$router.push({name:"Home"}),["prevent"]))},"Home")]),I])])])])])]),t("section",Q,[t("div",R,[t("div",q,[t("div",x,[t("div",K,[t("div",U,[t("div",W,[G,t("div",J,[t("div",O,[t("div",X,[t("input",{type:"radio",class:"form-check-input",value:"all",name:"sub_category",onChange:o[1]||(o[1]=s=>r.selectSubCategory(s.target.value)),checked:"",id:"all",style:{width:"1.5em",height:"1.5em"}},null,32),Y])]),e.$isEmpty(l.sub_categories)?y("",!0):(d(!0),n(f,{key:0},b(l.sub_categories,(s,h)=>(d(),n("div",{class:"collection-brand-filter",key:h},[t("div",Z,[t("div",null,[t("input",{type:"radio",class:"form-check-input",value:s.categoryName,onChange:i=>r.selectSubCategory(i.target.value,s),name:"sub_category",id:s.categoryName,style:{width:"1.5em",height:"1.5em"}},null,40,tt),t("label",{class:"form-check-label mb-0",for:s.categoryName},v(s.categoryName),9,et)]),e.$isEmpty(s.children)?y("",!0):(d(),n("a",{key:0,class:"text-end",href:"#",onClick:i=>r.showCollapsed(i,s)},it,8,st))]),_(t("div",{class:"collapse",id:s.categoryCode.toLowerCase(),"aria-labelledby":s.categoryCode.toLowerCase(),"data-parent":"#sub_categories"},[t("ul",ct,[(d(!0),n(f,null,b(s.children,(i,g)=>(d(),n("li",{key:g,class:"list-group-item"},[t("div",lt,[t("input",{type:"radio",class:"form-check-input",value:i.categoryName,onChange:o[2]||(o[2]=w=>r.selectSubChildCategory(w.target.value)),name:"sub_child_category",id:i.categoryName},null,40,rt),t("label",{class:"form-check-label mb-0",for:i.categoryName},v(i.categoryName),9,dt)])]))),128))])],8,at),[[p,l.sub_category==r.toBase64(s.categoryName.toLowerCase())]])]))),128))])])])]),t("div",nt,[t("div",ut,[t("div",ht,[t("div",_t,[t("div",pt,[t("div",gt,[t("div",mt,[t("div",vt,[_(t("h5",null,"Showing Products 1-"+v(l.products.total),513),[[p,!e.$isEmpty(l.products)]]),_(t("h5",null,"Showing Products 0",512),[[p,e.$isEmpty(l.products)]])]),ft])])])]),t("div",bt,[_(t("div",yt,null,512),[[p,e.$isEmpty(l.products.data)]]),_(t("div",wt,[(d(!0),n(f,null,b(l.products.data,(s,h)=>(d(),n("div",{class:"col-xl-3 col-6 col-grid-box",key:h},[t("div",Ct,[t("div",kt,[e.$isEmpty(s.images)?y("",!0):(d(),n("div",Pt,[t("div",$t,[t("a",{href:"#",onClick:m(i=>e.$router.push({name:"Product",params:{product:s.fullCode}}),["prevent"])},[t("img",{class:"img-fluid blur-up lazyload bg-img",src:s.images[0].urls[0].url,alt:""},null,8,St)],8,Et)]),s.images.length>1?(d(),n("div",Nt,[t("a",{href:"#",onClick:m(i=>e.$router.push({name:"Product",params:{product:s.fullCode}}),["prevent"])},[t("img",{src:s.images[1].urls[0].url,class:"img-fluid blur-up lazyload bg-img",alt:""},null,8,Dt)],8,Lt)])):y("",!0)])),t("div",Ht,[At,Bt,t("a",{href:"#","data-bs-toggle":"modal","data-bs-target":`#${s.fullCode}`,title:"Quick View"},Vt,8,Mt)])]),t("div",jt,[t("div",null,[t("a",{href:"#",onClick:m(i=>e.$router.push({name:"Product",params:{product:s.fullCode}}),["prevent"])},[t("h6",null,v(s.productName),1)],8,zt),t("p",{innerHTML:s.description},null,8,Ft),t("h4",null,"KSH "+v(s.price),1),_(t("ul",It,[(d(!0),n(f,null,b(s.colourImages,(i,g)=>(d(),n("li",{key:g,style:P(`background-color: ${e.$convertToHex(i.name)}; border: 1px solid #ededed;`)},null,4))),128))],512),[[p,!e.$isEmpty(s.colourImages)]])])])])]))),128))],512),[[p,!e.$isEmpty(l.products.data)]])]),t("div",Qt,[t("a",{href:"#",onClick:o[3]||(o[3]=m(s=>r.loadMore(s),["prevent"]))},"load more")])])])])])])])])])}const Kt=C(H,[["render",Rt]]);export{Kt as default};
