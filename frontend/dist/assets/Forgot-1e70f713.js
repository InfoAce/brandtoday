import{u as R,a as V,i as $,b as j,r as q,w as T,d as o,o as A,c as N,e,f as t,g as P,m as h,k as r,j as D,l as c}from"./index-0242c6eb.js";import{c as L,a as g}from"./index.esm-eb5145b9.js";const M={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},U=r("h1",null,"Forgot Password",-1),z=r("p",{class:"text-medium-emphasis"},"Recover your account.",-1),H=r("h3",null,"Already have an account ?",-1),J=r("p",null,"If you have an account, you can login.",-1),W={__name:"Forgot",setup(K){const i=R(),y=V(),v=$("$api"),u=j(),a=q({errors:{},form:{email:"",password:""},isDisabled:!0}),w=L().shape({email:g().email("*Enter a valid email address").required("*Email address is required"),password:g().required("*Password is required")}),x=n=>{w.validateAt(n,a.form).then((s,l)=>{delete a.errors[n]}).catch(s=>{a.errors[s.path]=s.message})},I=()=>{i.commit("loader",!0),v.post("/auth/login",a.form).then(()=>{u.success("Alright! Registration successful. Please check your email to verify your account."),b()}).catch(({response:{data:n}})=>{!c.isEmpty(n)&&n.statusCode==400&&n.message.forEach(s=>{u.info(s)})}).finally(()=>{i.commit("loader",!1)})},b=()=>{a.form={email:"",password:""}};return T(a.form,n=>{c.each(n,(s,l)=>{x(l)}),a.isDisabled=c.isEmpty(a.errors)}),(n,s)=>{const l=o("CIcon"),E=o("CInputGroupText"),F=o("CFormInput"),B=o("CInputGroup"),m=o("CButton"),d=o("CCol"),p=o("CRow"),S=o("CForm"),_=o("CCardBody"),f=o("CCard"),k=o("CCardGroup"),G=o("CContainer");return A(),N("div",M,[e(G,null,{default:t(()=>[e(p,{class:"justify-content-center"},{default:t(()=>[e(d,{md:8},{default:t(()=>[e(k,null,{default:t(()=>[e(f,{class:"p-4"},{default:t(()=>[e(_,null,{default:t(()=>[e(S,{onSubmit:P(I,["prevent"])},{default:t(()=>[U,z,e(B,{class:"mb-3"},{default:t(()=>[e(E,null,{default:t(()=>[e(l,{icon:"cil-user"})]),_:1}),e(F,{placeholder:"Email",modelValue:a.form.email,"onUpdate:modelValue":s[0]||(s[0]=C=>a.form.email=C)},null,8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[e(d,{xs:6},{default:t(()=>[e(m,{color:"primary",class:"px-4",type:"submit"},{default:t(()=>[h(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"text-white bg-primary py-5",style:{width:"44%"}},{default:t(()=>[e(_,{class:"d-flex align-items-center justify-content-center"},{default:t(()=>[r("div",null,[H,J,e(m,{color:"light",variant:"outline",class:"mt-3",onClick:s[1]||(s[1]=C=>D(y).push({name:"Login"}))},{default:t(()=>[h("Login")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{W as default};
