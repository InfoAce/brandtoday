import{z as f,i as v,u as g,r as k,c as x,o as w,e as a,f as c,g as t,h as i,l as n,F as h,m as j,t as o,w as z,j as C}from"./index-BX7DgPRM.js";const N={class:"tab-pane fade show active",id:"wishlist"},S={class:"row"},$={class:"col-12"},q={class:"card dashboard-table mt-0"},B={class:"card-body table-responsive-sm"},M=t("div",{class:"top-sec"},[t("h3",null,"My Wishlist")],-1),E={class:"table-responsive-xl"},F={class:"table cart-table wishlist-table"},H=t("thead",null,[t("tr",{class:"table-head"},[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Image"),t("th",{scope:"col"},"Product name"),t("th",{scope:"col"},"Price"),t("th",{scope:"col"},"Quantity"),t("th",{scope:"col"},"Total"),t("th",{scope:"col"},"Action")])],-1),K={href:"javascript:void(0)"},T=["src"],D={class:"mt-0"},P={class:"theme-color fs-6"},V={class:"theme-color fs-6"},A=["onClick"],I={key:1},L=t("td",{colspan:"7"},[t("p",{class:"text-info my-4"},[t("i",{class:"fa fa-exclamation-triangle"}),C(" Nothing found here.")])],-1),O=[L],G=f({__name:"Favourites",setup(Q){const _=v("$api"),l=g(),d=k({favourites:Object()}),m=x({get(){return l.getters.cart},set(e){console.log(e),l.commit("cart",e)}}),y=()=>{l.commit("loader",!0),_.get("/favourites").then(({data:{favourites:e}})=>{d.favourites=n.cloneDeep(e)}).catch(()=>{l.commit("loader",!1)}).finally(()=>{l.commit("loader",!1)})},b=e=>{let{product:{productName:p,images:[{urls:[{url:s}]}]}}=e;m.value.push({...e.content,name:p,image:s})};return w(()=>y()),(e,p)=>(a(),c("div",N,[t("div",S,[t("div",$,[t("div",q,[t("div",B,[M,t("div",E,[t("table",F,[H,t("tbody",null,[i(n.has)(d.favourites,"data")&&!i(n.isEmpty)(d.favourites.data)?(a(!0),c(h,{key:0},j(d.favourites.data,(s,u)=>(a(),c("tr",{key:u},[t("td",null,o(u+1),1),t("td",null,[t("a",K,[t("img",{src:s.product.images[0].urls[0].url,class:"blur-up lazyloaded",alt:""},null,8,T)])]),t("td",null,[t("span",D,o(s.product.productName),1)]),t("td",null,[t("span",null,"KSH "+o(s.content.price),1)]),i(n.has)(s.content,"sizes")?(a(),c(h,{key:0},[t("td",null,[t("span",P,o(i(n.sum)(s.content.sizes.map(r=>r.quantity))),1)]),t("td",null,[t("span",null,"KSH "+o(s.content.price*i(n.sum)(s.content.sizes.map(r=>r.quantity))),1)])],64)):(a(),c(h,{key:1},[t("td",null,[t("span",V,o(s.content.quantity),1)]),t("td",null,[t("span",null,"KSH "+o(s.content.price*s.content.quantity),1)])],64)),t("td",null,[t("a",{href:"javascript:void(0)",class:"btn btn-xs btn-solid",onClick:z(r=>b(s),["prevent"])}," Move to Cart ",8,A)])]))),128)):(a(),c("tr",I,O))])])])])])])])]))}});export{G as default};
