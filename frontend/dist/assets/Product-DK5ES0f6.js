import{_ as z,l as a,e as r,f as c,g as t,t as h,F as y,m as g,k as v,v as _,j as p,q as u,y as q,Q as S,B as E,s as T,x as V}from"./index-BX7DgPRM.js";import{e as k,b as I,c as C,a as w}from"./index.esm-BakSTS1U.js";import{c as j}from"./index-CVAB5CoL.js";const D="/assets/home/images/pro3/33.jpg",N="/assets/home/images/pro3/34.jpg",O={beforeRouteEnter(e,s,o){o(m=>{m.fetchProduct(),o()})},computed:{cart:{get(){return this.$store.getters.cart},set(e){this.$store.commit("cart",e)}},cartItem(){return this.cart.find(e=>e.code==this.product.fullCode)??{}},groupedVariants(){return a.groupBy(this.product.variants,"codeSizeName")},isVariant(){return a.isEmpty(this.product)?!1:!a.isEmpty(this.product.variants.filter(e=>!a.isNull(e.codeSizeName)))}},created(){this.$isEmpty=a.isEmpty,this.$isNull=a.isNull,this.$has=a.has,this.$convertToHex=e=>j(e.toLowerCase().split(" ").join("")),this.validateForm=e=>{this.formSchema.validateAt(e,this.form).then((s,o)=>{delete this.errors[e]}).catch(s=>{this.errors[s.path]=s.message}).finally(()=>{this.isDisabled=!a.isEmpty(this.errors)})}},data(){return{errors:Object(),favourite:Object(),form:Object(),isDisabled:!1,loading:{wishlist:!1},product:Object(),stock:Object(),schemaShape:Object(),sizeKeys:Object(),selections:Object()}},methods:{addToCart(){let{isVariant:e,product:s,selections:o}=this,m=a.cloneDeep(this.form);a.has(o,"colour")&&(m.image=o.colour.images[0].urls[0].url,m.price=s.price,m.name=s.productName),this.cart.push(a.cloneDeep(m))},addQuantity(e){this.form.sizes[this.sizeKeys[sizeName]].quantity=e.target.value},addToFavourites(){this.loading.wishlist=!0;let e=a.cloneDeep({product_code:this.product.fullCode,content:JSON.stringify(this.form)});this.$api.post("favourites",e).then(({data:{favourite:s}})=>{this.favourite=a.cloneDeep(s),this.$toast.info("This product has been added to your wishlist.")}).catch(()=>{this.loading.wishlist=!1}).finally(()=>{this.loading.wishlist=!1})},close(){this.initView()},initView(e){let s=a.isEmpty(e)?!1:!a.isEmpty(e.variants.filter(o=>!a.isNull(o.codeSizeName)));switch(this.product=a.cloneDeep(e),$(`input[name="quantity_${e.fullCode}"]`).val(1),a.set(this.form,"code",""),a.set(this.form,"price",""),a.set(this.form,"colour",""),s){case!0:this.schemaShape.sizes=I().of(C({name:w().required("*Size name is required."),quantity:k().min(1).required("*Size quantity is required.")})).min(1).required("*Size is required"),a.set(this.selections,"size",Object()),a.set(this.form,"sizes",Array());break;case!1:this.schemaShape.quantity=k().required("*Quantity is required."),a.set(this.form,"quantity",1);break}this.schemaShape.code=w().required("*Product code is required."),this.schemaShape.colour=w().required("*Colour is required."),this.schemaShape.price=k().required("*Price is required."),a.set(this.selections,"colour",Object()),this.formSchema=C().shape(this.schemaShape),this.form.code=e.fullCode,this.form.price=e.price,this.fetchColourStock(e)},descreaseQuantity(){let e=parseInt($(`input[name="quantity_${this.product.fullCode}"]`).val());if(e!=1){const s=e-=1;$(`input[name="quantity_${this.product.fullCode}"]`).val(s),this.form.quantity=s}},increaseQuantity(){let e=parseInt($(`input[name="quantity_${this.product.fullCode}"]`).val());const s=e+=1;$(`input[name="quantity_${this.product.fullCode}"]`).val(s),this.form.quantity=s},fetchColourStock(e){Promise.all(e.colourImages.map(s=>this.fetchStock(`${this.product.fullCode}-${s.code}`))).then(s=>{s.forEach(({data:{stock:o}})=>{this.stock[o.colourCode]=o.stock,o.stock==0&&this.$refs[o.colourCode][0].classList.add("inactive")})})},fetchProduct(){this.$store.commit("loader",!0);const{$route:{params:{product:e}}}=this;this.$api.put(`/products/${e}`).then(({data:{product:s,favourite:o}})=>{this.favourite=a.cloneDeep(o),this.initView(s)}).catch(({response:s})=>{this.$store.commit("loader",!1)}).finally(()=>{this.$store.commit("loader",!1),this.initScripts()})},fetchStock(e){return this.$api.put(`/products/stock/${e}`)},selectColour(e,s){let o=window.document.querySelector(".color-variant li.active");a.isNull(o)||o.classList.remove("active"),s.target.classList.add("active"),this.selections.colour=e,this.form.colour=e.name},selectSize(e,s,o){if(a.has(this.errors,"colour")&&this.$toast.warning("Select colour."),!a.has(this.errors,"colour")){let{selections:{colour:m}}=this,i=e.find(l=>l.codeColour==m.code);a.isEmpty(this.form.sizes.find(l=>l.name==i.codeSize))?(this.form.sizes.push({name:i.codeSize,quantity:1}),$(o.target).parent().addClass("active"),this.sizeKeys[s]=this.form.sizes.length-1):(this.form.sizes=this.form.sizes.filter(l=>l.name!=i.codeSize),$(o.target).parent().removeClass("active"),this.sizeKeys=a.omit(this.sizeKeys,[s]))}},initScripts(){$(".product-slick").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".slider-nav"}),$(".slider-nav").slick({vertical:!1,slidesToShow:3,slidesToScroll:1,asNavFor:".product-slick",arrows:!1,dots:!1,focusOnSelect:!0})}},mounted(){this.$nextTick(a.debounce(()=>{a.isEmpty(this.cartItem)||(this.form=a.cloneDeep(this.cartItem)),$('[data-toggle="tooltip"]').tooltip(),this.$watch(()=>this.selections.colour,e=>{Promise.all(a.keys(this.groupedVariants).map(s=>this.fetchStock(`${this.product.fullCode}-${e.code}-${s}`))).then(s=>{s.forEach(({data:o})=>{a.has(o,"stock")&&a.set(this.stock,o.stock.fullCode.replace(`${this.product.fullCode}-${e.code}-`,""),o.stock.stock)})})},{deep:!0})},200))},watch:{form:{handler(e){a.each(e,(s,o)=>{this.validateForm(o)})},deep:!0,immediate:!1}}},f=e=>(T("data-v-6f2046e5"),e=e(),V(),e),F={class:"breadcrumb-section"},H={class:"container"},K={class:"row"},P={class:"col-sm-6"},R={class:"page-title"},A={class:"col-sm-6"},B={"aria-label":"breadcrumb",class:"theme-breadcrumb"},L={class:"breadcrumb"},Q={class:"breadcrumb-item"},M={class:"breadcrumb-item"},x={class:"breadcrumb-item active","aria-current":"page"},W={class:"collection-wrapper"},Y={class:"container"},U={class:"row"},J={class:"col-lg-6"},G={class:"product-slick"},X=["src"],Z=f(()=>t("div",{class:"row"},[t("div",{class:"col-12 p-0"})],-1)),tt={class:"col-lg-6 rtl-text"},et={class:"product-right"},st={class:"price-detail"},it={class:"border-product"},at={class:"color-variant p-0"},ot=["onClick"],lt=["onClick"],rt={key:0,class:"text-danger"},ct={key:1},dt={id:"selectSize",class:"addeffect-section product-description border-product"},nt={key:0,class:"row pb-2"},ut={class:"col-12"},ht={key:0,class:"text-danger mr-0"},pt={key:1,class:"mr-0"},mt={class:"quantity-box"},ft={class:"input-group"},vt={class:"input-group-prepend"},bt=["onClick","disabled"],_t=["name","disabled"],yt=["name","disabled","onUpdate:modelValue"],gt={class:"text-center"},kt={key:0,class:"mb-0"},wt=f(()=>t("h6",{class:"product-title"},"quantity",-1)),St={class:"qty-box"},Ct={class:"input-group"},qt={class:"input-group-prepend"},zt=f(()=>t("i",{class:"ti-angle-left"},null,-1)),Et=[zt],$t=["name","value"],Tt={class:"input-group-prepend"},Vt=f(()=>t("i",{class:"ti-angle-right"},null,-1)),It=[Vt],jt={class:"product-buttons"},Dt={class:"d-flex"},Nt=["disabled"],Ot=f(()=>t("i",{class:"fa fa-shopping-cart me-1","aria-hidden":"true"},null,-1)),Ft={class:"px-4"},Ht=["disabled"],Kt=f(()=>t("i",{class:"fa fa-bookmark fz-16 me-2","aria-hidden":"true"},null,-1)),Pt=["disabled"],Rt={class:"fa fa-bookmark fz-16 me-2","aria-hidden":"true"},At={class:"fa fa-spinner fa-spin"},Bt={class:"border-product"},Lt={class:"slider-nav"},Qt=["src"],Mt={class:"tab-product m-0"},xt={class:"container"},Wt={class:"row"},Yt={class:"col-sm-12 col-lg-12"},Ut=f(()=>t("ul",{class:"nav nav-tabs nav-material",id:"top-tab",role:"tablist"},[t("li",{class:"nav-item"},[t("a",{class:"nav-link active",id:"top-home-tab","data-bs-toggle":"tab",href:"#top-home",role:"tab","aria-selected":"true"},[t("i",{class:"icofont icofont-ui-home"}),p("Details")]),t("div",{class:"material-border"})]),t("li",{class:"nav-item"},[t("a",{class:"nav-link",id:"profile-top-tab","data-bs-toggle":"tab",href:"#top-profile",role:"tab","aria-selected":"false"},[t("i",{class:"icofont icofont-man-in-glasses"}),p("Specification")]),t("div",{class:"material-border"})]),t("li",{class:"nav-item"},[t("a",{class:"nav-link",id:"review-top-tab","data-bs-toggle":"tab",href:"#top-review",role:"tab","aria-selected":"false"},[t("i",{class:"icofont icofont-contacts"}),p("Write Review")]),t("div",{class:"material-border"})])],-1)),Jt={class:"tab-content nav-material",id:"top-tabContent"},Gt={class:"tab-pane fade show active",id:"top-home",role:"tabpanel","aria-labelledby":"top-home-tab"},Xt={class:"product-tab-discription"},Zt=["innerHTML"],te=q('<div class="part" data-v-6f2046e5><h5 class="inner-title" data-v-6f2046e5>fabric:</h5><p data-v-6f2046e5>Art silk is manufactured by synthetic fibres like rayon. It&#39;s light in weight and is soft on the skin for comfort in summers.Art silk is manufactured by synthetic fibres like rayon. It&#39;s light in weight and is soft on the skin for comfort in summers.</p></div><div class="part" data-v-6f2046e5><h5 class="inner-title" data-v-6f2046e5>size &amp; fit:</h5><p data-v-6f2046e5>The model (height 5&#39;8&quot;) is wearing a size S</p></div><div class="part" data-v-6f2046e5><h5 class="inner-title" data-v-6f2046e5>Material &amp; Care:</h5><p data-v-6f2046e5>Top fabric: pure cotton</p><p data-v-6f2046e5>Bottom fabric: pure cotton</p><p data-v-6f2046e5>Hand-wash</p></div>',3),ee=f(()=>t("div",{class:"tab-pane fade",id:"top-profile",role:"tabpanel","aria-labelledby":"profile-top-tab"},[t("p",null,"The Model is wearing a white blouse from our stylist's collection, see the image for a mock-up of what the actual blouse would look like.it has text written on it in a black cursive language which looks great on a white color."),t("div",{class:"single-product-tables"},[t("table",null,[t("tbody",null,[t("tr",null,[t("td",null,"Sleeve Length"),t("td",null,"Sleevless")]),t("tr",null,[t("td",null,"Neck"),t("td",null,"Round Neck")]),t("tr",null,[t("td",null,"Occasion"),t("td",null,"Sports")])])]),t("table",null,[t("tbody",null,[t("tr",null,[t("td",null,"Fabric"),t("td",null,"Polyester")]),t("tr",null,[t("td",null,"Fit"),t("td",null,"Regular Fit")])])])])],-1)),se=f(()=>t("div",{class:"tab-pane fade",id:"top-review",role:"tabpanel","aria-labelledby":"review-top-tab"},[t("form",{class:"theme-form"},[t("div",{class:"form-row row"},[t("div",{class:"col-md-12"},[t("div",{class:"media"},[t("label",null,"Rating"),t("div",{class:"media-body ms-3"},[t("div",{class:"rating three-star"},[t("i",{class:"fa fa-star"}),p(),t("i",{class:"fa fa-star"}),p(),t("i",{class:"fa fa-star"}),p(),t("i",{class:"fa fa-star"}),p(),t("i",{class:"fa fa-star"})])])])]),t("div",{class:"col-md-6"},[t("label",{for:"name"},"Name"),t("input",{type:"text",class:"form-control",id:"name",placeholder:"Enter Your name",required:""})]),t("div",{class:"col-md-6"},[t("label",{for:"email"},"Email"),t("input",{type:"text",class:"form-control",id:"email",placeholder:"Email",required:""})]),t("div",{class:"col-md-12"},[t("label",{for:"review"},"Review Title"),t("input",{type:"text",class:"form-control",id:"review",placeholder:"Enter your Review Subjects",required:""})]),t("div",{class:"col-md-12"},[t("label",{for:"review"},"Review Title"),t("textarea",{class:"form-control",placeholder:"Wrire Your Testimonial Here",id:"exampleFormControlTextarea1",rows:"6"})]),t("div",{class:"col-md-12"},[t("button",{class:"btn btn-solid",type:"submit"},"Submit YOur Review")])])])],-1)),ie=q('<section class="section-b-space ratio_asos" data-v-6f2046e5><div class="container" data-v-6f2046e5><div class="row" data-v-6f2046e5><div class="col-12 product-related" data-v-6f2046e5><h2 data-v-6f2046e5>related products</h2></div></div><div class="row search-product" data-v-6f2046e5><div class="col-xl-2 col-md-4 col-6" data-v-6f2046e5><div class="product-box" data-v-6f2046e5><div class="img-wrapper" data-v-6f2046e5><div class="front" data-v-6f2046e5><a href="#" data-v-6f2046e5><img src="'+D+'" class="img-fluid blur-up lazyload bg-img" alt="" data-v-6f2046e5></a></div><div class="back" data-v-6f2046e5><a href="#" data-v-6f2046e5><img src="'+N+'" class="img-fluid blur-up lazyload bg-img" alt="" data-v-6f2046e5></a></div><div class="cart-info cart-wrap" data-v-6f2046e5><button data-bs-toggle="modal" data-bs-target="#addtocart" title="Add to cart" data-v-6f2046e5><i class="ti-shopping-cart" data-v-6f2046e5></i></button> <a href="javascript:void(0)" title="Add to Wishlist" data-v-6f2046e5><i class="ti-heart" aria-hidden="true" data-v-6f2046e5></i></a> <a href="#" data-bs-toggle="modal" data-bs-target="#quick-view" title="Quick View" data-v-6f2046e5><i class="ti-search" aria-hidden="true" data-v-6f2046e5></i></a> <a href="compare.html" title="Compare" data-v-6f2046e5><i class="ti-reload" aria-hidden="true" data-v-6f2046e5></i></a></div></div><div class="product-detail" data-v-6f2046e5><div class="rating" data-v-6f2046e5><i class="fa fa-star" data-v-6f2046e5></i> <i class="fa fa-star" data-v-6f2046e5></i> <i class="fa fa-star" data-v-6f2046e5></i> <i class="fa fa-star" data-v-6f2046e5></i> <i class="fa fa-star" data-v-6f2046e5></i></div><a href="product-page(no-sidebar).html" data-v-6f2046e5><h6 data-v-6f2046e5>Slim Fit Cotton Shirt</h6></a><h4 data-v-6f2046e5>$500.00</h4><ul class="color-variant" data-v-6f2046e5><li class="bg-light0" data-v-6f2046e5></li><li class="bg-light1" data-v-6f2046e5></li><li class="bg-light2" data-v-6f2046e5></li></ul></div></div></div></div></div></section>',1);function ae(e,s,o,m,i,l){return r(),c("div",null,[t("div",F,[t("div",H,[t("div",K,[t("div",P,[t("div",R,[t("h2",null,h(i.product.productName),1)])]),t("div",A,[t("nav",B,[t("ol",L,[t("li",Q,[t("a",{href:"#",onClick:s[0]||(s[0]=d=>e.$router.push({name:"Home"}))},"Home")]),t("li",M,[t("a",{href:"#",onClick:s[1]||(s[1]=d=>e.$router.go(-1))},"Products")]),t("li",x,h(i.product.productName),1)])])])])])]),t("section",null,[t("div",W,[t("div",Y,[t("div",U,[t("div",J,[t("div",G,[(r(!0),c(y,null,g(i.product.images,(d,n)=>(r(),c("div",{key:n},[t("img",{src:d.urls[0].url,alt:"",class:"img-fluid blur-up lazyload image_zoom_cls-0"},null,8,X)]))),128))]),Z]),t("div",tt,[t("div",et,[t("h2",null,h(i.product.productName),1),t("h3",st,"KSH "+h(i.product.price),1),t("div",it,[v(t("ul",at,[(r(!0),c(y,null,g(i.product.colourImages,(d,n)=>(r(),c(y,null,[d.name==l.cartItem.colour?(r(),c("li",{key:`active_${n}`,class:"active",ref_for:!0,ref:d.code,style:S(`background-color: ${e.$convertToHex(d.name)}`),onClick:b=>l.selectColour(d,b)},null,12,ot)):u("",!0),d.name!=l.cartItem.colour?(r(),c("li",{key:`inactive_${n}`,style:S(`background-color: ${e.$convertToHex(d.name)}`),ref_for:!0,ref:d.code,onClick:b=>l.selectColour(d,b)},null,12,lt)):u("",!0)],64))),256))],512),[[_,!e.$isEmpty(i.product.colourImages)]]),t("h6",null,[p(" Selected colour: "),e.$has(i.errors,"colour")?(r(),c("span",rt,h(i.errors.colour),1)):u("",!0),e.$isEmpty(i.form.colour)?u("",!0):(r(),c("span",ct,[t("strong",null,h(i.form.colour),1)]))])]),t("div",dt,[l.isVariant&&!e.$isEmpty(l.groupedVariants)?(r(),c("div",nt,[t("div",ut,[t("h6",null,[p(" Selected size: "),e.$has(i.errors,"sizes")?(r(),c("span",ht,h(i.errors.sizes),1)):u("",!0),e.$isEmpty(i.form.sizes)?u("",!0):(r(),c("span",pt,[t("strong",null,h(i.form.sizes.map(d=>d.name).join(",")),1)]))])]),(r(!0),c(y,null,g(l.groupedVariants,(d,n)=>(r(),c("div",{class:"col-md-6 py-2",key:n},[t("div",mt,[t("div",ft,[t("span",vt,[t("button",{class:"btn",onClick:b=>l.selectSize(d,n,b),disabled:i.stock[n]==0||e.$isEmpty(i.selections.colour)},h(n),9,bt)]),e.$has(i.sizeKeys,n)?u("",!0):(r(),c("input",{key:0,type:"number",name:`quantity_${n}`,class:"form-control input-number",disabled:i.stock[n]==0||e.$isEmpty(i.selections.colour),value:"0"},null,8,_t)),e.$has(i.sizeKeys,n)?v((r(),c("input",{key:1,type:"number",name:`quantity_${n}`,class:"form-control input-number",disabled:i.stock[n]==0||e.$isEmpty(i.selections.colour),"onUpdate:modelValue":b=>i.form.sizes[i.sizeKeys[n]].quantity=b,value:"0"},null,8,yt)),[[E,i.form.sizes[i.sizeKeys[n]].quantity]]):u("",!0)])]),t("div",gt,[e.$isEmpty(i.selections.colour)?u("",!0):(r(),c("h6",kt,"Stock Available: "+h(i.stock[n]),1))])]))),128))])):u("",!0),l.isVariant?u("",!0):(r(),c(y,{key:1},[wt,t("div",St,[t("div",Ct,[t("span",qt,[t("button",{type:"button",class:"btn quantity-left-minus","data-type":"minus","data-field":"",onClick:s[2]||(s[2]=()=>l.descreaseQuantity())},Et)]),t("input",{type:"text",name:`quantity_${i.product.fullCode}`,class:"form-control input-number",value:i.form.quantity},null,8,$t),t("span",Tt,[t("button",{type:"button",class:"btn quantity-right-plus","data-type":"plus","data-field":"",onClick:s[3]||(s[3]=()=>l.increaseQuantity())},It)])])])],64))]),t("div",jt,[t("div",Dt,[t("div",null,[t("button",{class:"btn btn-solid hover-solid btn-animation",disabled:i.isDisabled||!e.$isEmpty(l.cartItem),onClick:s[4]||(s[4]=(...d)=>l.addToCart&&l.addToCart(...d))},[Ot,v(t("span",null,"add to cart",512),[[_,!!e.$isEmpty(l.cartItem)]]),v(t("span",null,"already in cart",512),[[_,!e.$isEmpty(l.cartItem)]])],8,Nt)]),t("div",Ft,[e.$isEmpty(e.$store.getters.authUser)?(r(),c("button",{key:0,class:"btn btn-solid btn-animation",disabled:i.isDisabled,"data-toggle":"tooltip","data-placement":"top",title:"You need to login."},[Kt,p(" wishlist ")],8,Ht)):(r(),c("button",{key:1,class:"btn btn-solid btn-animation",disabled:i.isDisabled||!e.$isEmpty(i.favourite),onClick:s[5]||(s[5]=d=>l.addToFavourites())},[v(t("i",Rt,null,512),[[_,!i.loading.wishlist]]),v(t("i",At,null,512),[[_,i.loading.wishlist]]),v(t("span",null,"Wishlist",512),[[_,e.$isEmpty(i.favourite)]]),v(t("span",null,"Already in wishlist",512),[[_,!e.$isEmpty(i.favourite)]])],8,Pt))])])]),t("div",Bt,[t("div",Lt,[(r(!0),c(y,null,g(i.product.images,(d,n)=>(r(),c("div",{key:n},[t("img",{src:d.urls[0].url,alt:"",class:"img-fluid blur-up lazyload"},null,8,Qt)]))),128))])])])])])])])]),t("section",Mt,[t("div",xt,[t("div",Wt,[t("div",Yt,[Ut,t("div",Jt,[t("div",Gt,[t("div",Xt,[t("div",{class:"part",innerHTML:i.product.description},null,8,Zt),te])]),ee,se])])])])]),ie])}const ce=z(O,[["render",ae],["__scopeId","data-v-6f2046e5"]]);export{ce as default};
