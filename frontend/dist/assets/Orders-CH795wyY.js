import{i as p,r as f,u as y,o as b,e as a,f as o,g as t,h as i,F as x,m as k,l as _,t as e,q as l,j as v}from"./index-BX7DgPRM.js";import{h as g}from"./moment-C5S46NFB.js";const M={class:"tab-pane fade show active",id:"orders"},B={class:"row"},F={class:"col-12"},N={class:"card dashboard-table mt-0"},O={class:"card-body table-responsive-sm"},S=t("div",{class:"top-sec"},[t("h3",null,"My Orders")],-1),$={class:"table-responsive-xl"},j={class:"table cart-table order-table"},w=t("thead",null,[t("tr",{class:"table-head"},[t("th",null,"#"),t("th",null,"Order #"),t("th",null,"Items"),t("th",null,"Amount"),t("th",null,"Status"),t("th",null,"Created At"),t("th")])],-1),E={key:0,class:"text-warning"},V={key:1,class:"text-info"},q={key:2,class:"text-success"},A={key:3,class:"text-success"},C={key:4,class:"text-success"},D={key:5,class:"text-danger"},H=t("td",null,null,-1),I={key:1},K=t("td",{colspan:"8",class:"text-center"},[t("h4",{class:"mb-0 p-3"},[t("i",{class:"fa fa-exclamation-triangle"}),v(" No orders Found.")])],-1),L=[K],J={__name:"Orders",setup(T){const h=p("$api"),c=f({orders:Object()}),n=y(),m=()=>{n.commit("loader",!0),h.get("/orders").then(({data:{orders:d}})=>{c.orders=d}).catch(()=>{n.commit("loader",!1)}).finally(()=>{n.commit("loader",!1)})};return b(()=>m()),(d,Y)=>(a(),o("div",M,[t("div",B,[t("div",F,[t("div",N,[t("div",O,[S,t("div",$,[t("table",j,[w,t("tbody",null,[i(_.isEmpty)(c.orders)?(a(),o("tr",I,L)):(a(!0),o(x,{key:0},k(c.orders.items,(s,u)=>(a(),o("tr",{key:u},[t("td",null,e(u+1),1),t("td",null," # "+e(s.num_id),1),t("td",null,e(s.items.length),1),t("td",null,"KSH "+e(i(_.sum)(s.items.map(r=>r.price*r.quantity)).toFixed()),1),t("td",null,[s.status=="pending"?(a(),o("i",E,e(s.status),1)):l("",!0),s.status=="paid"?(a(),o("i",V,e(s.status),1)):l("",!0),s.status=="confirmed"?(a(),o("i",q,e(s.status),1)):l("",!0),s.status=="in_transit"?(a(),o("i",A,e(s.status),1)):l("",!0),s.status=="delivered"?(a(),o("i",C,e(s.status),1)):l("",!0),s.status=="cencelled"?(a(),o("i",D,e(s.status),1)):l("",!0)]),t("td",null,e(i(g)(s.created_at).format("Do MMMM, Y")),1),H]))),128))])])])])])])])]))}};export{J as default};
