doctype transitional
head
  meta(http-equiv='Content-Type' content='text/html; charset=UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width,initial-scale=1')
  link(rel='icon' href='images/favicon.png' type='image/x-icon')
  link(rel='shortcut icon' href='images/favicon.png' type='image/x-icon')
  link(href='https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap' rel='stylesheet' type='text/css')
div(style='background-color: #fafafa; width:100%; height: 100%; padding-top: 10px; padding-bottom: 10px;')
  table(align='center' border='0' cellpadding='0' cellspacing='0' style='padding: 30px;font-family: Montserrat, sans-serif !important;background-color: #fff;-webkit-box-shadow: 0px 0px 14px -4px rgba(0, 0, 0, 0.2705882353);box-shadow: 0px 0px 14px -4px rgba(0, 0, 0, 0.2705882353);width: 50%;border: 2px solid #ededed;')
    tbody(style='font-family: Montserrat, sans-serif !important;')
      tr(style='font-family: Montserrat, sans-serif !important;')
        td(style='font-family: Montserrat, sans-serif !important;')
          table(align='center' border='0' cellpadding='0' cellspacing='0' style='margin-top: 30px; width: 100%; background-color: #fff;')
            tbody(style='font-family: Montserrat, sans-serif !important;')
              tr 
                td 
                    p
                      span Hello 
                      span=customer.first_name 
                      span 
                      span=customer.last_name 
                      span , thank you for placing an order with us.
              tr(style='font-family: Montserrat, sans-serif !important;')
                td(style='display:flex;justify-content:center;')
                  img(src=company_logo alt=company_name)
              tr(style='font-family: Montserrat, sans-serif !important;')
                td(style='text-align: center;')
                  h2(style='color: #444444;font-weight: bold; margin-top: 10px;margin-bottom: 10px;padding-bottom: 0;display: inline-block;line-height: 1;')
                    | Order #
                    span
                      b=order_number
                    span 
                      | has been created
              tr(style='font-family: Montserrat, sans-serif !important;')
                td(style='text-align: center;')
                                                                                                                    
          table(border='0' cellpadding='0' cellspacing='0' align='left' style='width:100%; margin-top: 30px;border: 1px solid #ddd;border-collapse: collapse; background-color: #fff;')
            tbody(style='font-family: Montserrat, sans-serif !important;')
                tr
                    td.price(colspan='4' style='line-height: 49px;text-align: center;padding-right: 28px;color: #000000;border-left: unset;border: 1px solid #ddd;border-collapse: collapse;')
                      h3(style='color: #444444;font-weight: bold; margin-top: 10px;padding-bottom: 0;display: inline-block;line-height: 1;') Shipping Address
                      p(style='text-align: center;padding-top:0px;margin-top:0px;')
                        span=address.address_line_1
                        span
                          | ,
                        span=address.postal_code
                        span
                          | ,                                      
                        span=address.county_state    
                        span
                          | ,                                            
                        span=address.country              
                each item, key in items
                    tr(style="border-top: 1px solid #ededed;")
                        td(style='border-collapse: collapse; display:flex; padding: 10px; align-items: center;')
                            img(style='height: 80px;' src=item.image alt=item.name)
                            div(style='padding: 0 0 0 10px')
                                h4
                                    b
                                    span=item.name
                                p
                                    | Quantity:
                                    span=item.quantity  
                                p
                                    | Colour:
                                    span=item.colour  
                                if item.size
                                p
                                    | Size:
                                    span=item.size                                                                                                        
                        td(valign='top' style='padding: 28px;border-collapse: collapse;')
                            h4(style='color: #444;margin-top: 15px;font-weight: 400;text-align: right;')
                                b
                                    span=currency
                                    span 
                                    |
                                    span=item.quantity * item.price
                tr
                    td(style='line-height: 49px;color: #000000;padding-left: 20px;text-align: left;border-right: unset;border: 1px solid #ddd;border-collapse: collapse;') Sub Total
                    td.price(colspan='3' style='line-height: 49px;text-align: right;padding-right: 28px;color: #000000;border-left: unset;border: 1px solid #ddd;border-collapse: collapse;')
                          span=currency
                          span 
                            |
                          span=total.toFixed(0)
                each charge, key in extra_charges
                    tr
                        td(style='line-height: 49px;color: #000000;padding-left: 20px;text-align: left;border-right: unset;border: 1px solid #ddd;border-collapse: collapse;')
                            span=charge.name
                        td.price(colspan='3' style='line-height: 49px;text-align: right;padding-right: 28px;color: #000000;border-left: unset;border: 1px solid #ddd;border-collapse: collapse;')
                            span=currency
                            span 
                              |
                            span=charge.amount.toFixed(0)
                tr
                    td(style='line-height: 49px;color: #000000;padding-left: 20px;text-align: left;border-right: unset;border: 1px solid #ddd;border-collapse: collapse;') Total Amount
                    td.price(colspan='3' style='line-height: 49px;text-align: right;padding-right: 28px;color: #000000;border-left: unset;border: 1px solid #ddd;border-collapse: collapse;')
                        b
                         span=currency 
                         span 
                            |
                         span=(extra_charges.map( charge => charge.amount).reduce( (a,c) => a + c,  0) + total).toFixed(0) 